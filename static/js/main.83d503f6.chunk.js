(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),l=a.n(c),i=(a(58),a(3)),s=a(12),m=a(47),o=a.n(m),u=a(49),d=a.n(u),p=(a(59),Object(n.createContext)()),E=function(e){var t=e.reducer,a=e.initialState,c=e.children;return r.a.createElement(p.Provider,{value:Object(n.useReducer)(t,a)},c)},g=function(){return Object(n.useContext)(p)},_=a(31),h=a.n(_),v=(h.a.initializeApp({apiKey:"AIzaSyBU2RJ3Ze7pnhAUc5YGZpg_iZfS2wB_Aes",authDomain:"speedy-method-285320.firebaseapp.com",databaseURL:"https://speedy-method-285320.firebaseio.com",projectId:"speedy-method-285320",storageBucket:"speedy-method-285320.appspot.com",messagingSenderId:"366082781667",appId:"1:366082781667:web:33bdc532a70bf32654f0d6",measurementId:"G-Q7Z8Y9H9KP"}).firestore(),h.a.auth());var b=function(){var e=g(),t=Object(i.a)(e,1)[0],a=t.items,n=t.user;return r.a.createElement("div",{className:"header"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"",className:"header__logo"})),r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{type:"text",className:"header__searchInput"}),r.a.createElement(o.a,{className:"header__searchIcon"})),r.a.createElement("div",{className:"header__nav"},r.a.createElement(s.b,{to:!n&&"/login"},r.a.createElement("div",{onClick:function(){n&&v.signOut()},className:"header__option"},r.a.createElement("span",{className:"header_optionLineOne"},"Hello ",n?null===n||void 0===n?void 0:n.email:"Guest"),r.a.createElement("span",{className:"header_optionLineTwo"},n?"Sign Out":"Sign In"))),r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header_optionLineOne"},"Returns"),r.a.createElement("span",{className:"header_optionLineTwo"},"Orders")),r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header_optionLineOne"},"Your"),r.a.createElement("span",{className:"header_optionLineTwo"},"Prime")),r.a.createElement(s.b,{to:"/checkout"},r.a.createElement("div",{className:"header__optionBasket"},r.a.createElement(d.a,null),r.a.createElement("span",{className:"header__optionLineTwo header__basketCount"},a)))))};a(75);var f=function(e){var t=e.title,a=e.image,n=e.price,c=e.rating,l=e.id,s=g(),m=Object(i.a)(s,2),o=m[0],u=o.basket,d=(o.subtotal,m[1]);return r.a.createElement("div",{className:"product",id:l},r.a.createElement("div",{className:"product__info"},r.a.createElement("p",null,t),r.a.createElement("p",{className:"product__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,n)),r.a.createElement("div",{className:"product__raiting"},Array(c).fill().map((function(e,t){return r.a.createElement("p",null,"\u2b50")})))),r.a.createElement("img",{className:"product__image",src:a,alt:""}),r.a.createElement("button",{type:"button",onClick:function(){d({type:"ADD_TO_BASKET",item:{id:l,title:t,price:n,rating:c,quantity:1,image:a},amount:+n}),d({type:"ITEMS"})}},"Add to Basket"),r.a.createElement("p",null,u.find((function(e){return e.id.match(l)}))?u.find((function(e){return e.id.match(l)})).quantity:0))};a(76);var y=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__container"},r.a.createElement("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),r.a.createElement("div",{className:"home__row"},r.a.createElement(f,{id:"1",title:"The Lean Startup",price:"10.99",rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg"}),r.a.createElement(f,{id:"2",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:"5.38",rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/91gRKbX%2BS8L._AC_SL1500_.jpg"})),r.a.createElement("div",{className:"home__row"},r.a.createElement(f,{id:"3",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",price:100,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),r.a.createElement(f,{id:"4",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:199.98,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),r.a.createElement(f,{id:"5",title:"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)",price:30,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})),r.a.createElement("div",{className:"home__row"},r.a.createElement(f,{id:"6",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor -  Super Ultra Wide Dual WQHD 5120 x1440",price:40,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"}))))},N=(a(77),a(22)),S=a.n(N),O=(a(79),a(4));var k=function(){var e=Object(O.f)(),t=g(),a=Object(i.a)(t,1)[0],n=a.subtotal,c=a.basket;return console.log(c.length),r.a.createElement("div",{className:"subtotal"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal ( ",null===c||void 0===c?void 0:c.length," items):",r.a.createElement("strong",null,e)),r.a.createElement("small",{className:"subtotal__gift"},r.a.createElement("input",{type:"checkbox",name:"",id:"gift"}),r.a.createElement("label",{htmlFor:"gift"},"This order contains a gift")))},decimalScale:2,value:n,displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{onClick:function(t){return e.push("/pay")}},"Procceed to Checkout"))};a(80);var j=function(e){var t=e.id,a=e.rating,n=e.image,c=e.title,l=e.quantity,s=e.price,m=g(),o=Object(i.a)(m,2),u=(o[0].basket,o[1]);return r.a.createElement("div",{className:"checkoutProduct"},r.a.createElement("img",{className:"checkoutProduct__image",src:n}),r.a.createElement("div",{className:"checkoutProduct__info"},r.a.createElement("p",{className:"checkoutProduct__title"},c),r.a.createElement("p",{className:"checkoutProduct__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,s)),r.a.createElement("p",null,"quantity: ",r.a.createElement("strong",null,l)),r.a.createElement("div",{className:"checkoutProduct__rating"},Array(a).fill().map((function(e,t){return r.a.createElement("p",null,"\ud83c\udf1f")}))),r.a.createElement("button",{onClick:function(){u({type:"REMOVE_FROM_BASKET",id:t,price:s,quantity:l})}},"Remove from Basket")))};function C(){var e=g(),t=Object(i.a)(e,1)[0],a=t.basket,n=t.user;return r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"checkout__left"},r.a.createElement("img",{src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423592668_.jpg",alt:"",className:"checkout_ad"}),r.a.createElement("div",null,r.a.createElement("h3",null,null===n||void 0===n?void 0:n.email),r.a.createElement("h2",{className:"checkout__title"},"Shopping basket"),r.a.createElement("div",{className:"checkout_items"},a.map((function(e){return r.a.createElement(j,{title:e.title,id:e.id,image:e.image,price:e.price,quantity:e.quantity,rating:e.rating})}))))),r.a.createElement("div",{className:"checkout__right"},r.a.createElement(k,null)))}a(81),a(82);var A=function(){var e=Object(O.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(""),o=Object(i.a)(m,2),u=o[0],d=o[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"login"},r.a.createElement(s.b,{to:"/"},r.a.createElement("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})),r.a.createElement("div",{className:"login__container"},r.a.createElement("h1",null,"Sign-in"),r.a.createElement("form",null,r.a.createElement("h5",null,"E-mail"),r.a.createElement("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("h5",null,"Password"),r.a.createElement("input",{type:"password",value:u,onChange:function(e){return d(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"login__signInButton",onClick:function(t){t.preventDefault(),v.signInWithEmailAndPassword(c,u).then((function(t){return e.push("/")})).catch((function(e){return alert(e.message)}))}},"Sign In")),r.a.createElement("p",null,"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."),r.a.createElement("button",{onClick:function(t){t.preventDefault(),v.createUserWithEmailAndPassword(c,u).then((function(t){console.log(t),t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__registerButton"},"Create your Amazon Account"))))},w=a(23),x=a.n(w),L=a(34),T=(a(84),a(20)),B=a(50),I=a.n(B).a.create({baseURL:"http://localhost:5001/speedy-method-285320/us-central1/api"});var P=function(){var e=Object(O.f)(),t=g(),a=Object(i.a)(t,1)[0],c=a.basket,l=a.user,m=a.subtotal,o=Object(n.useState)(!1),u=Object(i.a)(o,2),d=u[0],p=u[1],E=Object(n.useState)(""),_=Object(i.a)(E,2),h=_[0],v=_[1],b=Object(n.useState)(null),f=Object(i.a)(b,2),y=f[0],N=f[1],k=Object(n.useState)(!0),C=Object(i.a)(k,2),A=C[0],w=C[1],B=Object(n.useState)(!0),P=Object(i.a)(B,2),R=P[0],z=P[1],D=Object(T.useStripe)(),G=Object(T.useElements)();Object(n.useEffect)((function(){(function(){var e=Object(L.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({method:"post",url:"/payments/create?total=".concat(100*m.toFixed(2))});case 2:t=e.sent,z(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),console.log("THE SECRET IS >>>",R);var U=function(){var t=Object(L.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),p(!0),t.next=4,D.confirmCardPayment(R,{payment_method:{card:G.getElement(T.CardElement)}}).then((function(t){t.paymantIntent;v(!0),N(null),p(!1),e.replace("/orders")}));case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__container"},r.a.createElement("h1",null,"Checkout ",r.a.createElement(s.b,{to:"./checkout"},null===c||void 0===c?void 0:c.length," items"),r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,e)))},decimalScale:2,value:m,displayType:"text",thousandSeparator:!0,prefix:"$"})),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Delivery Address")),r.a.createElement("div",{className:"payment__address"},r.a.createElement("p",null,"Email: ",null===l||void 0===l?void 0:l.email),r.a.createElement("p",null,"Ukraine, Kiev"))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Review items")),r.a.createElement("div",{className:"payment__items"},r.a.createElement("h3",null,"Review items"),c.map((function(e){return r.a.createElement(j,{title:e.title,id:e.id,image:e.image,price:e.price,quantity:e.quantity,rating:e.rating})})))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Payment method")),r.a.createElement("div",{className:"payment__details"},r.a.createElement("form",{action:"",onSubmit:U},r.a.createElement(T.CardElement,{onChange:function(e){w(e.empty),N(e.error?e.error.message:"")}}),r.a.createElement("div",{className:"payment__priceContainer"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,e)))},decimalScale:2,value:m,displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{disabled:d||A||h},r.a.createElement("span",null,d?"processing":"Buy now"))),y&&{error:y}))))))},R=a(51),z=Object(R.a)("pk_test_51HQ9rVJsQYpVuO625gJoG4LnbmP0BIQC5YTHdaIRCJMUX3NKgi647hAd5kMDFA26fugLkiVcHNLtmBdXweqDsQrg00DMSbbU8y");var D=function(){var e=g(),t=Object(i.a)(e,1)[0];return Object(n.useEffect)((function(){v.onAuthStateChanged((function(e){console.log("USER IS --\x3e",e),t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/login"},r.a.createElement(A,null)),r.a.createElement(O.a,{path:"/checkout"},r.a.createElement(C,null)),r.a.createElement(O.a,{path:"/pay"},r.a.createElement(T.Elements,{stripe:z},r.a.createElement(P,null))),r.a.createElement(O.a,{path:"/"},r.a.createElement(y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(27),U=a(14),q={ids:[],basket:[],subtotal:0,items:0,user:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(U.a)(Object(U.a)({},e),{},{user:t.user});case"ADD_TO_BASKET":if(-1===e.ids.indexOf(t.item.id))return Object(U.a)(Object(U.a)({},e),{},{ids:[].concat(Object(G.a)(e.ids),[t.item.id]),basket:[].concat(Object(G.a)(e.basket),[t.item]),subtotal:e.subtotal+t.amount,items:e.items+1});if(e.basket.length>0){var a=Object(G.a)(e.basket),n=a.pop(),r=Object(U.a)(Object(U.a)({},n),{},{quantity:n.quantity+1});return a.push(r),Object(U.a)(Object(U.a)({},e),{},{basket:a,subtotal:e.subtotal+t.amount,items:e.items+1})}return e;case"REMOVE_FROM_BASKET":var c=e.ids.findIndex((function(e){return e.id==t.id}));return e.ids.splice(c,1),e.subtotal-=t.price*t.quantity,Object(U.a)(Object(U.a)({},e),{},{basket:e.basket.filter((function(e){return e.id!==t.id})),items:e.items-t.quantity});default:return e}};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,{initialState:q,reducer:M},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a(102)},58:function(e,t,a){},59:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.83d503f6.chunk.js.map