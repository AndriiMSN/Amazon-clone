{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Produce.js","Home.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","axios.js","Payment.js","App.js","serviceWorker.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","auth","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Header","items","user","className","to","src","alt","type","onClick","signOut","email","Produce","title","image","price","rating","id","basket","dispatch","subtotal","Array","fill","map","_","i","item","quantity","amount","find","el","match","Home","Subtotal","history","useHistory","console","log","length","renderText","name","htmlFor","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","Checkout","Login","useState","setEamail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","processing","setProcessing","succeeded","setSucceeded","setError","disabled","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","useEffect","a","method","url","toFixed","response","data","getClientSecret","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymantIntent","replace","action","onSubmit","empty","promise","loadStripe","App","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","ids","state","indexOf","basketsShallowCopy","basketToUpdate","pop","updatedBasked","index","findIndex","splice","filter","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.83d503f6.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react'\r\n\r\nexport const StateContext = createContext()\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n)\r\n\r\nexport const useStateValue = () => useContext(StateContext)","import firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBU2RJ3Ze7pnhAUc5YGZpg_iZfS2wB_Aes\",\r\n  authDomain: \"speedy-method-285320.firebaseapp.com\",\r\n  databaseURL: \"https://speedy-method-285320.firebaseio.com\",\r\n  projectId: \"speedy-method-285320\",\r\n  storageBucket: \"speedy-method-285320.appspot.com\",\r\n  messagingSenderId: \"366082781667\",\r\n  appId: \"1:366082781667:web:33bdc532a70bf32654f0d6\",\r\n  measurementId: \"G-Q7Z8Y9H9KP\"\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\r\n\r\nconst db = firebaseApp.firestore()\r\nconst auth = firebase.auth()\r\n\r\nexport { db, auth }","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport './Header.css'\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from './firebase';\r\n\r\n\r\nfunction Header() {\r\n  const [{ items, user }] = useStateValue()\r\n  const handleAuthetication = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" alt=\"\" className=\"header__logo\" />\r\n      </Link>\r\n      <div className=\"header__search\">\r\n        <input type=\"text\" className=\"header__searchInput\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n      <div className=\"header__nav\">\r\n        <Link to={!user && \"/login\"}>\r\n          <div onClick={handleAuthetication} className=\"header__option\">\r\n            <span className=\"header_optionLineOne\">\r\n              Hello {user ? user?.email : 'Guest'}\r\n            </span>\r\n            <span className=\"header_optionLineTwo\">\r\n              {user ? 'Sign Out' : 'Sign In'}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n        <div className=\"header__option\">\r\n          <span className=\"header_optionLineOne\">\r\n            Returns\r\n          </span>\r\n          <span className=\"header_optionLineTwo\">\r\n            Orders\r\n          </span>\r\n        </div>\r\n        <div className=\"header__option\">\r\n          <span className=\"header_optionLineOne\">\r\n            Your\r\n          </span>\r\n          <span className=\"header_optionLineTwo\">\r\n            Prime\r\n          </span>\r\n        </div>\r\n\r\n        <Link to=\"/checkout\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingBasketIcon />\r\n            <span className=\"header__optionLineTwo header__basketCount\">{items}</span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Header","import React, { useState } from 'react';\r\nimport './Produce.css'\r\nimport { useStateValue } from './StateProvider'\r\n\r\nfunction Produce({ title, image, price, rating, id }) {\r\n  const [{ basket, subtotal }, dispatch] = useStateValue()\r\n  // console.log(basket);\r\n  const addToBasket = () => {\r\n\r\n    // dispatch\r\n    dispatch({\r\n      type: \"ADD_TO_BASKET\",\r\n      item: {\r\n        id: id,\r\n        title: title,\r\n        price: price,\r\n        rating: rating,\r\n        quantity: 1,\r\n        image: image\r\n      },\r\n      amount: +price\r\n    }\r\n    )\r\n    dispatch({\r\n      type: \"ITEMS\"\r\n    }\r\n    )\r\n\r\n  }\r\n  return (\r\n    <div className=\"product\" id={id}>\r\n      <div className=\"product__info\">\r\n        <p>{title}</p>\r\n        <p className=\"product__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product__raiting\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, i) => (\r\n              <p>⭐</p>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <img className=\"product__image\" src={image} alt=\"\" />\r\n      <button type=\"button\" onClick={addToBasket}>Add to Basket</button>\r\n      <p>{(basket.find((el) => el.id.match(id))) ? (basket.find((el) => el.id.match(id)).quantity) : 0}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Produce;\r\n","import React from 'react';\r\nimport Product from './Produce'\r\nimport './Home.css'\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home__container\">\r\n        <img className=\"home__image\" src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\" alt=\"\" />\r\n\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"1\"\r\n            title=\"The Lean Startup\"\r\n            price=\"10.99\"\r\n            rating={5}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"2\"\r\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n            price=\"5.38\"\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/91gRKbX%2BS8L._AC_SL1500_.jpg\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"3\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\r\n            price={100.00}\r\n            rating={3}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg\"\r\n          />\r\n          <Product\r\n            id=\"4\"\r\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\r\n            price={199.98}\r\n            rating={5}\r\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\r\n          />\r\n          <Product\r\n            id=\"5\"\r\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n            price={30}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n          />\r\n        </div>\r\n        <div className=\"home__row\">\r\n          <Product\r\n            id=\"6\"\r\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor -  Super Ultra Wide Dual WQHD 5120 x1440\"\r\n            price={40}\r\n            rating={4}\r\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n          />\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport './Subtotal.css'\r\nimport { useStateValue } from './StateProvider';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Subtotal() {\r\n  const history = useHistory()\r\n  const [{ subtotal, basket }] = useStateValue()\r\n  console.log(basket.length);\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <>\r\n            <p>\r\n              Subtotal ( {basket?.length} items):\r\n        <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" name=\"\" id=\"gift\" />\r\n              <label htmlFor=\"gift\">This order contains a gift</label>\r\n            </small>\r\n          </>\r\n        )}\r\n        decimalScale={2}\r\n        value={subtotal}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n      <button\r\n        onClick={e => history.push('/pay')}\r\n      >Procceed to Checkout</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport { useStateValue } from './StateProvider';\r\nimport './CheckoutProduct.css'\r\n\r\n\r\nfunction CheckoutProduct({ id, rating, image, title, quantity, price }) {\r\n  const [{ basket }, dispatch] = useStateValue()\r\n  const removeFromBusket = () => {\r\n    dispatch({\r\n      type: 'REMOVE_FROM_BASKET',\r\n      id: id,\r\n      price: price,\r\n      quantity: quantity\r\n    })\r\n  }\r\n  return (\r\n    <div className='checkoutProduct'>\r\n      <img className='checkoutProduct__image' src={image} />\r\n\r\n      <div className='checkoutProduct__info'>\r\n        <p className='checkoutProduct__title'>{title}</p>\r\n        <p className=\"checkoutProduct__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <p>quantity: <strong>{quantity}</strong></p>\r\n        <div className=\"checkoutProduct__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, i) => (\r\n              <p>🌟</p>\r\n            ))}\r\n        </div>\r\n        <button onClick={removeFromBusket}>Remove from Basket</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","import React from 'react'\r\nimport './Checkout.css'\r\nimport Subtotal from './Subtotal'\r\nimport { useStateValue } from './StateProvider';\r\nimport CheckoutProduct from './CheckoutProduct';\r\n\r\n\r\nexport default function Checkout() {\r\n\r\n  const [{ basket, user }] = useStateValue()\r\n\r\n  return (\r\n    <div className=\"checkout\">\r\n      <div className=\"checkout__left\">\r\n        <img src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423592668_.jpg\" alt=\"\" className=\"checkout_ad\" />\r\n        <div>\r\n          <h3>{user?.email}</h3>\r\n          <h2 className=\"checkout__title\">\r\n            Shopping basket\r\n          </h2>\r\n          <div className=\"checkout_items\">\r\n            {basket.map((el) => {\r\n              return (\r\n                <CheckoutProduct\r\n                  title={el.title}\r\n                  id={el.id}\r\n                  image={el.image}\r\n                  price={el.price}\r\n                  quantity={el.quantity}\r\n                  rating={el.rating}\r\n                />\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"checkout__right\">\r\n        <Subtotal />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport './Login.css'\r\nimport { auth } from './firebase'\r\n\r\nfunction Login() {\r\n  const history = useHistory()\r\n  const [email, setEamail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n\r\n  const signIn = e => {\r\n    e.preventDefault()\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(auth => (\r\n        history.push('/')\r\n      ))\r\n      .catch(error => alert(error.message))\r\n  }\r\n\r\n  const register = e => {\r\n    e.preventDefault()\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((auth) => {\r\n        console.log(auth);\r\n        if (auth) {\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(error => alert(error.message))\r\n  }\r\n  return (\r\n    <div>\r\n      <div className='login'>\r\n        <Link to='/'>\r\n          <img\r\n            className=\"login__logo\"\r\n            src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png'\r\n          />\r\n        </Link>\r\n\r\n        <div className='login__container'>\r\n          <h1>Sign-in</h1>\r\n\r\n          <form>\r\n            <h5>E-mail</h5>\r\n            <input type='text' value={email} onChange={e => setEamail(e.target.value)} />\r\n\r\n            <h5>Password</h5>\r\n            <input type='password' value={password} onChange={e => setPassword(e.target.value)} />\r\n\r\n            <button type='submit' className='login__signInButton'\r\n              onClick={signIn}\r\n            >Sign In</button>\r\n          </form>\r\n\r\n          <p>\r\n            By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please\r\n            see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\r\n                </p>\r\n\r\n          <button\r\n            onClick={register}\r\n            className='login__registerButton'>Create your Amazon Account</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'http://localhost:5001/speedy-method-285320/us-central1/api' // Api\r\n})\r\n\r\nexport default instance\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport './Payment.css'\r\nimport CheckoutProduct from './CheckoutProduct'\r\nimport { useStateValue } from './StateProvider'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js'\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport axios from './axios'\r\n\r\nfunction Payment() {\r\n  const history = useHistory()\r\n\r\n  const [{ basket, user, subtotal }] = useStateValue()\r\n\r\n  const [processing, setProcessing] = useState(false)\r\n  const [succeeded, setSucceeded] = useState(\"\")\r\n  const [error, setError] = useState(null)\r\n  const [disabled, setDisabled] = useState(true)\r\n  const [clientSecret, setClientSecret] = useState(true)\r\n\r\n  const stripe = useStripe()\r\n  const elements = useElements()\r\n\r\n  useEffect(() => {\r\n    // generate the special stripe secret which allows us to charge a customer\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: 'post',\r\n        // Stripe expects the total in a currencies subunits\r\n        url: `/payments/create?total=${subtotal.toFixed(2) * 100}`\r\n      });\r\n      setClientSecret(response.data.clientSecret)\r\n    }\r\n\r\n    getClientSecret();\r\n  }, [basket])\r\n\r\n  console.log('THE SECRET IS >>>', clientSecret)\r\n\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    setProcessing(true)\r\n    const payload = await stripe.confirmCardPayment(clientSecret, {\r\n      payment_method: {\r\n        card: elements.getElement(CardElement)\r\n      }\r\n    }).then(({ paymantIntent }) => {\r\n      //paymentIntent = payment confirmation\r\n\r\n      setSucceeded(true);\r\n      setError(null)\r\n      setProcessing(false)\r\n\r\n      history.replace('/orders')\r\n    })\r\n  }\r\n  const handleChange = e => {\r\n    setDisabled(e.empty)\r\n    setError(e.error ? e.error.message : \"\")\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"payment\">\r\n        <div className=\"payment__container\">\r\n          <h1>\r\n            Checkout {<Link to=\"./checkout\">{basket?.length} items</Link>}\r\n            <CurrencyFormat\r\n              renderText={(value) => (\r\n                <>\r\n                  <p>\r\n                    <strong>{value}</strong>\r\n                  </p>\r\n                </>\r\n              )}\r\n              decimalScale={2}\r\n              value={subtotal}\r\n              displayType={\"text\"}\r\n              thousandSeparator={true}\r\n              prefix={\"$\"}\r\n            />\r\n          </h1>\r\n          {/**Payment adress */}\r\n          <div className=\"payment__section\">\r\n            <div className=\"payment__title\">\r\n              <h3>Delivery Address</h3>\r\n            </div>\r\n            <div className=\"payment__address\">\r\n              <p>Email: {user?.email}</p>\r\n              <p>Ukraine, Kiev</p>\r\n            </div>\r\n          </div>\r\n          {/**Items */}\r\n          <div className=\"payment__section\">\r\n            <div className=\"payment__title\">\r\n              <h3>Review items</h3>\r\n            </div>\r\n            <div className=\"payment__items\">\r\n              <h3>Review items</h3>\r\n              {basket.map(el => {\r\n                return (\r\n                  <CheckoutProduct\r\n                    title={el.title}\r\n                    id={el.id}\r\n                    image={el.image}\r\n                    price={el.price}\r\n                    quantity={el.quantity}\r\n                    rating={el.rating}\r\n                  />\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n          {/**Method */}\r\n          <div className=\"payment__section\">\r\n            <div className=\"payment__title\">\r\n              <h3>Payment method</h3>\r\n            </div>\r\n            <div className=\"payment__details\">\r\n              <form action=\"\" onSubmit={handleSubmit}>\r\n                <CardElement onChange={handleChange} />\r\n                <div className=\"payment__priceContainer\">\r\n                  <CurrencyFormat\r\n                    renderText={(value) => (\r\n                      <>\r\n                        <p>\r\n                          <strong>{value}</strong>\r\n                        </p>\r\n                      </>\r\n                    )}\r\n                    decimalScale={2}\r\n                    value={subtotal}\r\n                    displayType={\"text\"}\r\n                    thousandSeparator={true}\r\n                    prefix={\"$\"}\r\n                  />\r\n                  <button disabled={processing || disabled || succeeded}>\r\n                    <span>{processing ? \"processing\" : \"Buy now\"}</span>\r\n                  </button>\r\n                </div>\r\n                {error && { error }}\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Payment\r\n","import React, { useEffect } from 'react';\n\nimport Header from './Header';\nimport Home from './Home';\nimport Checkout from './Checkout'\nimport './App.css';\nimport Login from './Login'\nimport Payment from './Payment';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport { auth } from './firebase'\nimport { useStateValue } from './StateProvider';\nimport { loadStripe } from '@stripe/stripe-js'\nimport { Elements } from '@stripe/react-stripe-js'\n\nconst promise = loadStripe(\"pk_test_51HQ9rVJsQYpVuO625gJoG4LnbmP0BIQC5YTHdaIRCJMUX3NKgi647hAd5kMDFA26fugLkiVcHNLtmBdXweqDsQrg00DMSbbU8y\")\nfunction App() {\n  const [dispatch] = useStateValue()\n  useEffect(() => {\n    auth\n      .onAuthStateChanged(authUser => {\n        console.log('USER IS -->', authUser);\n\n        if (authUser) {\n          dispatch({\n            type: 'SET_USER',\n            user: authUser\n          })\n        } else {\n          dispatch({\n            type: 'SET_USER',\n            user: null\n          })\n        }\n      })\n  }, [])\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/checkout\">\n            <Checkout />\n          </Route>\n          <Route path=\"/pay\">\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n\n      </div>\n    </Router>\n  );\n\n  {/* Home */ }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const initialState = {\r\n  ids: [],\r\n  basket: [],\r\n  subtotal: 0,\r\n  items: 0,\r\n  user: null\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        user: action.user\r\n      }\r\n    case 'ADD_TO_BASKET':\r\n      if (state.ids.indexOf(action.item.id) === -1) {\r\n        return {\r\n          ...state,\r\n          ids: [...state.ids, action.item.id],\r\n          basket: [...state.basket, action.item],\r\n          subtotal: state.subtotal + action.amount,\r\n          items: state.items + 1\r\n        }\r\n      }\r\n      else {\r\n        if (state.basket.length > 0) {\r\n          // state.basket[state.basket.length - 1].quantity += 1\r\n          const basketsShallowCopy = [...state.basket];\r\n          const basketToUpdate = basketsShallowCopy.pop();\r\n          const updatedBasked = {\r\n            ...basketToUpdate,\r\n            quantity: basketToUpdate.quantity + 1,\r\n          };\r\n\r\n          basketsShallowCopy.push(updatedBasked);\r\n          return {\r\n            ...state,\r\n            basket: basketsShallowCopy,\r\n            subtotal: state.subtotal + action.amount,\r\n            items: state.items + 1\r\n          };\r\n        }\r\n\r\n      }\r\n      return state\r\n\r\n\r\n    case 'REMOVE_FROM_BASKET':\r\n      const index = state.ids.findIndex((el) => el.id == action.id)\r\n      state.ids.splice(index, 1)\r\n      state.subtotal -= action.price * action.quantity\r\n      return {\r\n        ...state,\r\n        basket: state.basket.filter(el => el.id !== action.id),\r\n        items: state.items - action.quantity\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './reducer'\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}